!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var o=i("bpxeT"),c=i("2TvXO"),a=(o=i("bpxeT"),c=i("2TvXO"),i("lwvvG"));function l(e){return s.apply(this,arguments)}function s(){return(s=e(o)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.slice(0,10).reduce((function(e,t){return e+u(t)}),""),e.abrupt("return",r);case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function u(e){var t=e.id,n=e.poster_path,r=e.title,i=e.name,o=e.genre_ids,c=e.release_date,l=e.first_air_date,s=e.vote_average,u=(0,a.getNameOfGenresById)(o),d=u.slice(0,2).join(", "),f=c||l;return window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(d=u.slice(0,1).join(", ")),d.length>18&&(d=u.slice(0,1).join(", ")),'<li class="catalog__card" data-id="'.concat(t,'">\n    <div class="catalog__img-wrapper">\n      <img src="https://image.tmdb.org/t/p/w500').concat(n||"Oops. There is no poster to this movie",'" alt="').concat(i||r,'" width="395" height="574" class="catalog__img" />\n    </div>\n    <div class="catalog__info info">\n      <p class="info__title">').concat(i||r,'</p>\n\t\t<div class="info__wrap">\n\t\t<ul class="info__list">\n      <li class="info__descr">').concat(d,'</li>\n      <li class="info__descr">').concat(function(e){return e?e.slice(0,4):""}(f),'</li>\n      </ul>\n\t\t<div class="catalog__stars-wrap">\n\t\t<div class="catalog__rating-active" style="width:').concat(s/2/.05,'%"></div>\n\t\t</div>\n\t\t</div>\n    </div>\n  </li>')}var d=i("b7ONl"),f=document.querySelector(".catalog"),g=document.querySelector(".catalog__btn"),p=document.querySelector(".catalog__input");function v(){return(v=e(o)(e(c).mark((function t(n){var r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=p.value.trim(),e.next=4,d.getBySearch(r,1);case 4:i=e.sent,l(i.results).then((function(e){return f.innerHTML=e})),""===p.value&&d.getWeekTrending(1).then((function(e){l(e.results).then((function(e){return f.innerHTML=e})).catch((function(e){return console.log(e)}))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}g.addEventListener("click",(function(e){return v.apply(this,arguments)})),d.getWeekTrending(1).then((function(e){l(e.results).then((function(e){return f.innerHTML=e})).catch((function(e){return console.log(e)}))}));var _=document.getElementById("menu"),h=document.querySelector("nav"),m=document.getElementById("overlay"),y=document.querySelector("body");_.addEventListener("click",(function(){h.style.left="0",m.style.display="block",y.style.overflow="hidden"})),m.addEventListener("click",(function(){h.style.left="-64%",m.style.display="none",y.style.overflow="auto"}));var w=document.querySelector(".switcher"),b="true"===localStorage.getItem("isLight");document.body.classList.toggle("light",b),w.onclick=function(){b=!b,document.body.classList.toggle("light",b),localStorage.setItem("isLight",b)};var x=window.location.href;document.querySelectorAll(".mobile-menu__link, .header__nav-link").forEach((function(e){e.href===x&&e.classList.toggle("current__nav-link")}))}();
//# sourceMappingURL=catalog.9cef5eb6.js.map
