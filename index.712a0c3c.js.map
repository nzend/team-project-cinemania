{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-2c1d26072ebae309.js","src/js/index.js","src/js/oopsnotification.js","node_modules/@parcel/runtime-js/lib/runtime-946cf7aee22ba8d1.js","src/js/render_weeklytrends.js","src/js/upcoming-this-mounth.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7bk21\\\":\\\"index.712a0c3c.js\\\",\\\"fVJut\\\":\\\"sprite-stars.020edb1a.svg\\\",\\\"83IUQ\\\":\\\"my-library.8338c27b.js\\\",\\\"f7PRz\\\":\\\"index.e88f918c.js\\\"}\"));","// Тут додаємо імпорт готового модулю за зразком:\nimport * as mobilMenu from './mobile-menu';\nimport * as switcher from './switcher';\n// import * as moduleName from './js/module-name';\nimport * as oopsnotification from './oopsnotification';\n\nimport * as WeeklyTrends from './render_weeklytrends';\nimport * as upcomingMounth from '../js/upcoming-this-mounth';\nimport * as modal from './modal-info/modal-info';\n","\nconst notificationBtnClose = document.querySelector(`.notification-trailer-fail-btn-close`);\nconst notification = document.querySelector(`.notification-trailer-fail`);\nconst notificationTrailerFailOverlay = document.querySelector(`.notification-trailer-fail-overlay`);\n\n//!дата атрибут та слухач на кнопку для відкриття модалки\nconst trailerFailBtn = document.querySelector('button[data-btn=\"trailer-fail\"]');\ntrailerFailBtn.addEventListener(`click`, onOpenModalBtnClick);\n\nfunction onOpenModalBtnClick(){\n       notificationTrailerFailOverlay.style.visibility= \"visible\";\n       notificationTrailerFailOverlay.style.transition=\"visibility 250ms linear 250ms\";\n    notificationBtnClose.addEventListener(`click`, onNotificationTrailerFailBtnClick);\n    notificationTrailerFailOverlay.addEventListener(`click`, onNotificationTrailerFailOverlay);\n    function onNotificationTrailerFailOverlay(event) {\n        if (event.currentTarget === event.target) {\n          onCloseModal();\n        }\n      }\n     document.addEventListener(\"keydown\", onEscKeyPress); \n            \n}\n\nfunction  onNotificationTrailerFailBtnClick (){\n    onCloseModal();\n}\n\nfunction onCloseModal() {\n    notificationTrailerFailOverlay.style.visibility= \"hidden\";\n  }\n\n  function onEscKeyPress(event) {\n    if (event.code !== 'Escape') {\n      return;\n    }\n    document.removeEventListener('keydown', onEscKeyPress);\n    onCloseModal();\n  }\n    \n\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"fVJut\")).toString();","'use strict';\n\nimport sprite from '../../src/images/sprite-stars.svg';\nimport { getNameOfGenresById } from './get-genres';\nimport * as Api from './api';\n// import * as moduleName from './js/module-name';\n\nconst filmList = document.querySelector('.weekly');\n\n// функція яка перевіряє ширину екрану, якщо менше 768px то завантажує тільки один фільм\nfunction renderWeeklyFilms() {\n  if (window.innerWidth < 768) {\n    Api.getWeekTrending(1).then(data => {\n      const films = [data.results[0]];\n      creatMarkupCatalogCard(films)\n        .then(data => (filmList.innerHTML = data))\n        .catch(error => console.log(error));\n    });\n  } else {\n    Api.getWeekTrending(1).then(data => {\n      const films = data.results.slice(0, 3);\n      creatMarkupCatalogCard(films)\n        .then(data => (filmList.innerHTML = data))\n        .catch(error => console.log(error));\n    });\n  }\n}\n\nwindow.addEventListener('resize', renderWeeklyFilms);\nrenderWeeklyFilms();\n\nasync function creatMarkupCatalogCard(data) {\n  const markUp = data.reduce((markup, film) => markup + makeCard(film), '');\n  return markUp;\n}\n\nfunction makeCard({\n  id,\n  poster_path,\n  title,\n  name,\n  genre_ids,\n  release_date,\n  first_air_date,\n  vote_average,\n}) {\n  const arrOfGenres = getNameOfGenresById(genre_ids);\n  let stringOfGenres = arrOfGenres.slice(0, 2).join(', ');\n  const date = release_date || first_air_date;\n  const mediaQuery = window.matchMedia(\n    '(min-width: 768px) and (max-width: 1199px)'\n  );\n\n  // На таблетці відображає один жанр\n  if (mediaQuery.matches) {\n    stringOfGenres = arrOfGenres.slice(0, 1).join(', ');\n  }\n\n  // Якшо строка жанрів більша, рендерити один жанр\n  if (stringOfGenres.length > 18)\n    stringOfGenres = arrOfGenres.slice(0, 1).join(', ');\n\n  // const currentGenres = () => {\n  //   if (window.innerWidth < 1280) {\n  //     return stringOfGenres[0];\n  //   }\n  //   return stringOfGenres.join(', ');\n  // };\n\n  // window.addEventListener('resize', () => {\n  //   currentGenres();\n  // });\n\n  return `<li class=\"catalog__card\" data-id=\"${id}\">\n  <div class=\"catalog__img-wrapper\">\n    <img src=\"https://image.tmdb.org/t/p/w500${\n      poster_path || 'Oops. There is no poster to this movie'\n    }\" alt=\"${name || title}\" width=\"395\" height=\"574\" class=\"catalog__img\" />\n  </div>\n  <div class=\"catalog__info info\">\n    <p class=\"info__title\">${name || title}</p>\n<div class=\"info__wrap\">\n<ul class=\"info__list\">\n    <li class=\"info__descr\">${stringOfGenres}</li>\n    <li class=\"info__descr\">${convertReleaseDate(date)}</li>\n    </ul>\n<div class=\"catalog__stars-wrap\">\n<div class=\"catalog__rating-active\" style=\"width:${\n    vote_average / 2 / 0.05\n  }%\"></div>\n</div>\n</div>\n  </div>\n</li>`;\n}\n\nfunction convertReleaseDate(date) {\n  if (date) {\n    return date.slice(0, 4);\n  } else return '';\n}\n","import * as Api from './api';\nimport { setGenresInStorage } from './get-genres';\nimport { getNameOfGenresById } from './get-genres';\nimport { setAddedMovies } from './local-storage';\nimport { getAddedMovies } from './local-storage';\n\nconst container = document.querySelector('.upcoming-content');\n\nApi.getUpcoming()\n  .then(({ results }) => {\n    const NOW_Date = new Date();\n\n    const filmUpcomingRelease = results.filter(\n      film => NOW_Date < Date.parse(film.release_date)\n    );\n\n    if (filmUpcomingRelease.length === 0) {\n      renderMarkupError();\n\n      return;\n    }\n\n    const random = Math.floor(Math.random() * filmUpcomingRelease.length);\n    const render = createMarkup(filmUpcomingRelease[random]);\n\n    // const random = Math.floor(Math.random() * (results.length-1));\n    // const render = createMarkup(results[random]);\n\n    renderMarkup(render);\n\n    const buttonAdd = document.getElementById('add');\n    const buttonRemove = document.getElementById('remove');\n\n    let existing = getAddedMovies();\n    existing = existing ? existing : [];\n    if (existing.includes(filmUpcomingRelease[random].id)) {\n      buttonAdd.classList.add('hidden');\n      buttonRemove.classList.remove('hidden');\n    }\n\n    buttonAdd.addEventListener('click', onClickAdd);\n    buttonRemove.addEventListener('click', onClickRemove);\n\n    function onClickAdd() {\n      let existing = getAddedMovies();\n      existing = existing ? existing : [];\n      if (existing.includes(filmUpcomingRelease[random].id)) {\n        buttonAdd.classList.add('hidden');\n        buttonRemove.classList.remove('hidden');\n        return;\n      }\n      existing.push(filmUpcomingRelease[random].id);\n      setAddedMovies(existing);\n      buttonAdd.classList.add('hidden');\n      buttonRemove.classList.remove('hidden');\n    }\n\n    function onClickRemove() {\n      let existing = getAddedMovies();\n      existing = existing ? existing : [];\n      if (existing.includes(filmUpcomingRelease[random].id)) {\n        let index = existing.findIndex(\n          id => id === filmUpcomingRelease[random].id\n        );\n\n        existing.splice(index, 1);\n        setAddedMovies(existing);\n        buttonAdd.classList.remove('hidden');\n        buttonRemove.classList.add('hidden');\n      }\n    }\n  })\n  .catch(error => console.log(error));\n\nsetGenresInStorage();\n\nfunction createMarkup({\n  backdrop_path,\n  genre_ids,\n  title,\n  overview,\n  vote_average,\n  vote_count,\n  release_date,\n  popularity,\n}) {\n  const vote = vote_average.toFixed(1);\n  const populate = popularity.toFixed(1);\n  const genres = getNameOfGenresById(genre_ids).slice(0, 3).join(' ');\n\n  return `\n      <img\n        class=\"upcoming-content__img\"\n        src=\"https://image.tmdb.org/t/p/w500${backdrop_path}\"\n        alt=\"${title}\"\n       \n      \n      />\n\n      <div class=\"upcoming-content__desktop\">\n        <h3 class=\"upcoming-content__name\">${title}</h3>\n\n        <div class=\"upcoming-thumb\">\n          <ul class=\"upcoming-list left\">\n            <li class=\"upcoming-list__item\">\n              <p class=\"upcoming-list__text\">Release date</p>\n              <p class=\"upcoming-list__date\">${release_date}</p>\n            </li>\n            <li class=\"upcoming-list__item\">\n              <p class=\"upcoming-list__text\">Vote / Votes</p>\n              <p class=\"upcoming-list__vote\">\n                <span class=\"vote\"> ${vote}</span> / <span class=\"vote\">${vote_count}</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class=\"upcoming-list rigth\">\n            <li class=\"upcoming-list__item\">\n              <p class=\"upcoming-list__text\">Popularity</p>\n              <p class=\"upcoming-list__pop\">${populate}</p>\n            </li>\n            <li class=\"upcoming-list__item\">\n              <p class=\"upcoming-list__text\">Genre</p>\n              <p class=\"upcoming-list__genre\">${genres}</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class=\"upcoming-content__title\">About</h3>\n        <p class=\"upcoming-content__text\">${overview}\n        </p>\n\n  <button type=\"button\" class=\"upcoming-content__btn\" id=\"add\">\n  Remind me\n</button>   \n <button type=\"button\" class=\"upcoming-content__btn-remove hidden\" id=\"remove\">\n  Remove from my library\n</button>    \n`;\n}\n\nfunction renderMarkup(markup) {\n  container.innerHTML = markup;\n}\n\nfunction renderMarkupError() {\n  container.innerHTML = `<div class=\"upcoming-error-container\">\n        <p class=\"upcoming-error-container__text\">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn't find any upcoming movies this month.\n        </p>\n      </div>`;\n}\n"],"names":["parcelRequire","register","JSON","parse","$627f637b2aafaebd$var$notificationBtnClose","document","querySelector","$627f637b2aafaebd$var$notificationTrailerFailOverlay","$627f637b2aafaebd$var$onNotificationTrailerFailBtnClick","$627f637b2aafaebd$var$onCloseModal","style","visibility","$627f637b2aafaebd$var$onEscKeyPress","event","code","removeEventListener","addEventListener","transition","currentTarget","target","URL","resolve","import","meta","url","toString","$7f97049de55d04b9$var$filmList","$7f97049de55d04b9$var$renderWeeklyFilms","window","innerWidth","$7rYDH","getWeekTrending","then","data1","$7f97049de55d04b9$var$creatMarkupCatalogCard","results","data","innerHTML","catch","error","console","log","data2","slice","async","reduce","markup","film","id","poster_path","title","name","genre_ids","release_date","first_air_date","vote_average","arrOfGenres","$2rpgd","getNameOfGenresById","stringOfGenres","join","date","matchMedia","matches","length","$7f97049de55d04b9$var$convertReleaseDate","$7f97049de55d04b9$var$makeCard","$8ad78a0f8772ceff$var$container","getUpcoming","NOW_Date","Date","filmUpcomingRelease","filter","random","Math","floor","render","backdrop_path","overview","vote_count","popularity","vote","toFixed","populate","genres","$8ad78a0f8772ceff$var$createMarkup","buttonAdd","getElementById","buttonRemove","existing1","$b5rV1","getAddedMovies","includes","classList","add","remove","existing","push","setAddedMovies","index","findIndex","splice","setGenresInStorage"],"version":3,"file":"index.712a0c3c.js.map"}