function e(e,n,t,i){Object.defineProperty(e,n,{get:t,set:i,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=n.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){i[e]=n},n.parcelRequired7c6=s),s.register("kyEFX",(function(n,t){var i,s;e(n.exports,"register",(function(){return i}),(function(e){return i=e})),e(n.exports,"resolve",(function(){return s}),(function(e){return s=e}));var o={};i=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)o[n[t]]=e[n[t]]},s=function(e){var n=o[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),s("kyEFX").register(JSON.parse('{"7bk21":"index.2bc48ae0.js","fVJut":"sprite-stars.020edb1a.svg","f7PRz":"index.17fb1e67.js"}'));const o=document.getElementById("menu"),l=document.querySelector("nav"),c=document.getElementById("overlay"),r=document.querySelector("body");o.addEventListener("click",(()=>{l.style.left="0",c.style.display="block",r.style.overflow="hidden"})),c.addEventListener("click",(()=>{l.style.left="-64%",c.style.display="none",r.style.overflow="auto"}));const a=document.querySelector(".switcher");let d="true"===localStorage.getItem("isLight");document.body.classList.toggle("light",d),a.onclick=function(){d=!d,document.body.classList.toggle("light",d),localStorage.setItem("isLight",d)};const u=window.location.href;document.querySelectorAll(".mobile-menu__link, .header__nav-link").forEach((function(e){e.href===u&&e.classList.toggle("current__nav-link")}));new URL(s("kyEFX").resolve("fVJut"),import.meta.url).toString();var p=s("2rpgd"),g=s("7rYDH");const m=document.querySelector(".weekly");function _(){window.innerWidth<768?g.getWeekTrending(1).then((e=>{f([e.results[0]]).then((e=>m.innerHTML=e)).catch((e=>console.log(e)))})):g.getWeekTrending(1).then((e=>{f(e.results.slice(0,3)).then((e=>m.innerHTML=e)).catch((e=>console.log(e)))}))}async function f(e){return e.reduce(((e,n)=>e+function({id:e,poster_path:n,title:t,name:i,genre_ids:s,release_date:o,first_air_date:l,vote_average:c}){const r=(0,p.getNameOfGenresById)(s);let a=r.slice(0,2).join(", ");const d=o||l;window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(a=r.slice(0,1).join(", "));a.length>18&&(a=r.slice(0,1).join(", "));return`<li class="catalog__card" data-id="${e}">\n  <div class="catalog__img-wrapper">\n    <img src="https://image.tmdb.org/t/p/w500${n||"Oops. There is no poster to this movie"}" alt="${i||t}" width="395" height="574" class="catalog__img" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">${i||t}</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">${a}</li>\n    <li class="info__descr">${function(e){return e?e.slice(0,4):""}(d)}</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:${c/2/.05}%"></div>\n</div>\n</div>\n  </div>\n</li>`}(n)),"")}window.addEventListener("resize",_),_();g=s("7rYDH"),p=s("2rpgd"),p=s("2rpgd");function v(){return JSON.parse(localStorage.getItem("addedMovies"))}function h(e){localStorage.setItem("addedMovies",JSON.stringify(e))}const y=document.querySelector(".upcoming-content");g.getUpcoming().then((({results:e})=>{const n=new Date,t=e.filter((e=>n<Date.parse(e.release_date)));if(0===t.length)return void(y.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>');const i=Math.floor(Math.random()*t.length),s=function({backdrop_path:e,genre_ids:n,title:t,overview:i,vote_average:s,vote_count:o,release_date:l,popularity:c}){const r=s.toFixed(1),a=c.toFixed(1),d=(0,p.getNameOfGenresById)(n).slice(0,3).join(" ");return`\n      <img\n        class="upcoming-content__img"\n        src="https://image.tmdb.org/t/p/w500${e}"\n        alt="${t}"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">${t}</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">${l}</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ${r}</span> / <span class="vote">${o}</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">${a}</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">${d}</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">${i}\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n`}(t[i]);var o;o=s,y.innerHTML=o;const l=document.getElementById("add"),c=document.getElementById("remove");let r=v();r=r||[],r.includes(t[i].id)&&(l.classList.add("hidden"),c.classList.remove("hidden")),l.addEventListener("click",(function(){let e=v();if(e=e||[],e.includes(t[i].id))return l.classList.add("hidden"),void c.classList.remove("hidden");e.push(t[i].id),h(e),l.classList.add("hidden"),c.classList.remove("hidden")})),c.addEventListener("click",(function(){let e=v();if(e=e||[],e.includes(t[i].id)){let n=e.findIndex((e=>e===t[i].id));e.splice(n,1),h(e),l.classList.remove("hidden"),c.classList.add("hidden")}}))})).catch((e=>console.log(e))),(0,p.setGenresInStorage)();
//# sourceMappingURL=index.2bc48ae0.js.map
