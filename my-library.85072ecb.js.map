{"mappings":"gfAAA,IAyBuBA,EAzBvBC,EAAAC,EAAA,S,aAKMC,EAAeC,SAASC,cAAc,wBACtCC,EAAaF,SAASC,cAAc,cACpCE,EAAaH,SAASC,cAAc,mBAgBpCG,GAAe,EAAAC,EAAAC,kBAEEV,EAiBTQ,EAhBbP,EAAAU,iBAAqBX,GACjBY,MAAK,SAAAC,GAEgB,IAAhBA,EAAKC,OAKTD,EAAKE,KAAI,SAAAC,GAUb,IAAkBC,EAClBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAGMC,EA6BmBC,EACjBC,EAlDFzB,EAAa0B,mBAAmB,aAUtCX,GADkBD,EAT0CD,GAU5DE,GACAC,EAFkBF,EAElBE,YACAC,EAHkBH,EAGlBG,MACAC,EAJkBJ,EAIlBI,KACAC,EALkBL,EAKlBK,OACAC,EANkBN,EAMlBM,aACAC,EAPkBP,EAOlBO,eACAC,EARkBR,EAQlBQ,aAGMC,EAAOH,GAAgBC,EAEtB,sCAGDM,OAHuCZ,EAAG,+FAIlCY,OADRX,GAAe,yCAChB,WAGwBW,OAHfT,GAAQD,EAAM,uIAMEU,OAHDT,GAAQD,EAAM,+FAIbU,QAgBLH,EAjBqBL,EAkBtCM,EAAM,GACZD,EAAUZ,KAAI,SAAAgB,GAEG,oBAAfA,EAAMV,KAA8BU,EAAMV,KAAO,SAAYU,EAAMV,KACpEO,EAAII,KAAKD,EAAMV,K,IAETO,EAAIK,MAAM,EAAE,GAAGC,KAAK,OAxByB,yCAIHJ,OAOnD,SAA4BJ,GAC1B,OAAIA,EACKA,EAAKO,MAAM,EAAG,GACT,E,CAbcE,CAAmBT,GAAM,gHAGoBI,OAAxBL,EAAe,EAAI,IAAK,wDAnCrElB,EAAW6B,UAAUC,OAAO,iB,IAL5B/B,EAAW8B,UAAUC,OAAO,Y,IAQ/BC,OAAM,SAAAC,G,OAASC,QAAQD,MAAMA,E","sources":["src/js/added-movies-render.js"],"sourcesContent":["import * as Api from './api';\nimport { getAddedMovies, setAddedMovies } from './local-storage';\n// import LoadMoreButton from './load-more-button';\n\n\nconst myLibGallery = document.querySelector('.mylib-gallery__list');\nconst libContent = document.querySelector('#is-hidden');\nconst libGallery = document.querySelector('.gallery-hidden');\n// const addBtn = document.querySelector('.btn');\n// console.log(libContent);\n\n\n// const loadMoreButton = new LoadMoreButton({ selector: '.load-more', isHidden: true});\n// const loadMoreBtn = document.querySelector('.load-more');\n\n// //  vremenna\n// addBtn.addEventListener('click', onAddBtn);\n\n// function onAddBtn() {\n//  const v = [447365, 447365, 420808, 420808]\n//  setAddedMovies(v);\n// };\n\nconst libraryFilms = getAddedMovies();\n\nfunction renderLibrary(arrOfFilms) {\n Api.getArrayOfMovies(arrOfFilms)\n    .then(data => { \n      // console.log(data);\n      if (data.length === 0) {\n        // renderMarkupError()\n        libContent.classList.remove('is-hidden')\n        return\n      }\n      data.map(film => {\n        myLibGallery.insertAdjacentHTML('beforeEnd', makeCard(film))\n        libGallery.classList.remove('gallery-hidden')\n      });\n    })\n    .catch(error => console.error(error));\n}\n\nrenderLibrary(libraryFilms);\n\n  function makeCard({\n  id,\n  poster_path,\n  title,\n  name,\n  genres,\n  release_date,\n  first_air_date,\n  vote_average,\n}) {\n   \n  const date = release_date || first_air_date;\n \n  return `<li class=\"catalog__card\" data-id=\"${id}\">\n    <div class=\"catalog__img-wrapper\">\n      <img src=\"https://image.tmdb.org/t/p/w500${\n        poster_path || 'Oops. There is no poster to this movie'\n      }\" alt=\"${name || title}\" width=\"395\" height=\"574\" class=\"catalog__img\" />\n    </div>\n    <div class=\"catalog__info info\">\n      <p class=\"info__title\">${name || title}</p>\n  <div class=\"info__wrap\">\n  <ul class=\"info__list\">\n      <li class=\"info__descr\">${getNameOfGenres(genres)}</li>\n      <li class=\"info__descr\">${convertReleaseDate(date)}</li>\n      </ul>\n  <div class=\"catalog__stars-wrap\">\n  <div class=\"catalog__rating-active\" style=\"width:${vote_average / 2 / 0.05}%\"></div>\n  </div>\n  </div>\n    </div>\n  </li>`;\n}\n  \n  function convertReleaseDate(date) {\n    if (date) {\n      return date.slice(0, 4);\n    } else return '';\n  }\n\n  function getNameOfGenres(arrGenres) {\n    const arr = [];\n    arrGenres.map(genre => {\n    //  console.log(genre.name);\n      genre.name === 'Science Fiction' ? (genre.name = 'Sci-Fi') : genre.name;\n     arr.push(genre.name)\n      })\n    return arr.slice(0,2).join(', ');\n     }\n\n    //  function renderMarkupError() {\n    //   container.innerHTML = `<div class=\"upcoming-error-container\">\n    //         <p class=\"upcoming-error-container__text\">\n    //           OOPS...<br />\n    //           We are very sorry!<br />\n    //           But we couldn't find any upcoming movies this month.\n    //         </p>\n    //       </div>`;\n    // }"],"names":["arrOfFilms","$b7ONl","parcelRequire","$4dabeab7a3388c70$var$myLibGallery","document","querySelector","$4dabeab7a3388c70$var$libContent","$4dabeab7a3388c70$var$libGallery","$4dabeab7a3388c70$var$libraryFilms","$4LMMA","getAddedMovies","getArrayOfMovies","then","data","length","map","film","param","id","poster_path","title","name","genres","release_date","first_air_date","vote_average","date","arrGenres","arr","insertAdjacentHTML","concat","genre","push","slice","join","$4dabeab7a3388c70$var$convertReleaseDate","classList","remove","catch","error","console"],"version":3,"file":"my-library.85072ecb.js.map"}