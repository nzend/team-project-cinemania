!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},s=e.parcelRequired7c6;null==s&&((s=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var s={id:n,exports:{}};return t[n]=s,e.call(s.exports,s,s.exports),s.exports}var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(n,e){i[n]=e},e.parcelRequired7c6=s),s("iE7OH").register(JSON.parse('{"9p9yL":"index.7017ae4f.js","5SXwj":"sprite-stars.020edb1a.svg","k7SKl":"my-library.8dec11fb.js","45zUA":"index.e9901438.js"}')),s("cs7FV"),s("78qpV"),s("gVa74");var c=s("bpxeT"),o=s("2TvXO");s("aNJCr").getBundleURL("9p9yL"),s("iE7OH").resolve("5SXwj");var a=s("lwvvG"),r=s("b7ONl"),l=document.querySelector(".weekly");function d(){window.innerWidth<768?r.getWeekTrending(1).then((function(n){u([n.results[0]]).then((function(n){return l.innerHTML=n})).catch((function(n){return console.log(n)}))})):r.getWeekTrending(1).then((function(n){u(n.results.slice(0,3)).then((function(n){return l.innerHTML=n})).catch((function(n){return console.log(n)}))}))}function u(n){return p.apply(this,arguments)}function p(){return(p=n(c)(n(o).mark((function e(t){var i;return n(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.reduce((function(n,e){return n+_(e)}),""),n.abrupt("return",i);case 2:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function _(n){var e=n.id,t=n.poster_path,i=n.title,s=n.name,c=n.genre_ids,o=n.release_date,r=n.first_air_date,l=n.vote_average,d=(0,a.getNameOfGenresById)(c),u=d.slice(0,2).join(", "),p=o||r;return window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(u=d.slice(0,1).join(", ")),u.length>18&&(u=d.slice(0,1).join(", ")),'<li class="catalog__card" data-id="'.concat(e,'">\n  <div class="catalog__img-wrapper">\n    <img src="https://image.tmdb.org/t/p/w500').concat(t||"Oops. There is no poster to this movie",'" alt="').concat(s||i,'" width="395" height="574" class="catalog__img" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">').concat(s||i,'</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">').concat(u,'</li>\n    <li class="info__descr">').concat(function(n){return n?n.slice(0,4):""}(p),'</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:').concat(l/2/.05,'%"></div>\n</div>\n</div>\n  </div>\n</li>')}window.addEventListener("resize",d),d();r=s("b7ONl"),a=s("lwvvG"),a=s("lwvvG");var g=s("4LMMA"),m=(g=s("4LMMA"),document.querySelector(".upcoming-content"));r.getUpcoming().then((function(n){var e=n.results,t=new Date,i=e.filter((function(n){return t<Date.parse(n.release_date)}));if(0!==i.length){var s,c=Math.floor(Math.random()*i.length),o=function(n){var e=n.backdrop_path,t=n.genre_ids,i=n.title,s=n.overview,c=n.vote_average,o=n.vote_count,r=n.release_date,l=n.popularity,d=c.toFixed(1),u=l.toFixed(1),p=(0,a.getNameOfGenresById)(t).slice(0,3).join(" ");return'\n      <img\n        class="upcoming-content__img"\n        src="https://image.tmdb.org/t/p/w500'.concat(e,'"\n        alt="').concat(i,'"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">').concat(i,'</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">').concat(r,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ').concat(d,'</span> / <span class="vote">').concat(o,'</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">').concat(u,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">').concat(p,'</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">').concat(s,'\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n')}(i[c]);s=o,m.innerHTML=s;var r=document.getElementById("add"),l=document.getElementById("remove"),d=(0,g.getAddedMovies)();(d=d||[]).includes(i[c].id)&&(r.classList.add("hidden"),l.classList.remove("hidden")),r.addEventListener("click",(function(){var n=(0,g.getAddedMovies)();if((n=n||[]).includes(i[c].id))return r.classList.add("hidden"),void l.classList.remove("hidden");n.push(i[c].id),(0,g.setAddedMovies)(n),r.classList.add("hidden"),l.classList.remove("hidden")})),l.addEventListener("click",(function(){var n=(0,g.getAddedMovies)();if((n=n||[]).includes(i[c].id)){var e=n.findIndex((function(n){return n===i[c].id}));n.splice(e,1),(0,g.setAddedMovies)(n),r.classList.remove("hidden"),l.classList.add("hidden")}}))}else m.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>'})).catch((function(n){return console.log(n)})),(0,a.setGenresInStorage)(),s("3lYxi"),s("6IdhT")}();
//# sourceMappingURL=index.7017ae4f.js.map
