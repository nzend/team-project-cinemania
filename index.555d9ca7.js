!function(){function n(n,e,t,i){Object.defineProperty(n,e,{get:t,set:i,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},o=t.parcelRequired7c6;null==o&&((o=function(n){if(n in i)return i[n].exports;if(n in r){var e=r[n];delete r[n];var t={id:n,exports:{}};return i[n]=t,e.call(t.exports,t,t.exports),t.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,e){r[n]=e},t.parcelRequired7c6=o),o.register("iE7OH",(function(e,t){var i,r;n(e.exports,"register",(function(){return i}),(function(n){return i=n})),n(e.exports,"resolve",(function(){return r}),(function(n){return r=n}));var o={};i=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)o[e[t]]=n[e[t]]},r=function(n){var e=o[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),o.register("aNJCr",(function(e,t){var i;n(e.exports,"getBundleURL",(function(){return i}),(function(n){return i=n}));var r={};function o(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(n){var e=r[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return o(n[2])}return"/"}(),r[n]=e),e}})),o("iE7OH").register(JSON.parse('{"9p9yL":"index.555d9ca7.js","5SXwj":"sprite-stars.020edb1a.svg","k7SKl":"my-library.5352efdf.js","45zUA":"index.c8eaf707.js"}')),o("cs7FV"),o("78qpV");var c=document.querySelector(".notification-trailer-fail-btn-close"),s=(document.querySelector(".notification-trailer-fail"),document.querySelector(".notification-trailer-fail-overlay"));function a(){l()}function l(){s.style.visibility="hidden"}function u(n){"Escape"===n.code&&(document.removeEventListener("keydown",u),l())}document.querySelector('button[data-btn="trailer-fail"]').addEventListener("click",(function(){s.style.visibility="visible",s.style.transition="visibility 250ms linear 250ms",c.addEventListener("click",a),s.addEventListener("click",(function(n){n.currentTarget===n.target&&l()})),document.addEventListener("keydown",u)}));var d=o("bpxeT"),p=o("2TvXO");o("aNJCr").getBundleURL("9p9yL"),o("iE7OH").resolve("5SXwj");var f=o("lwvvG"),m=o("b7ONl"),v=document.querySelector(".weekly");function g(){window.innerWidth<768?m.getWeekTrending(1).then((function(n){_([n.results[0]]).then((function(n){return v.innerHTML=n})).catch((function(n){return console.log(n)}))})):m.getWeekTrending(1).then((function(n){_(n.results.slice(0,3)).then((function(n){return v.innerHTML=n})).catch((function(n){return console.log(n)}))}))}function _(n){return h.apply(this,arguments)}function h(){return(h=e(d)(e(p).mark((function n(t){var i;return e(p).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.reduce((function(n,e){return n+y(e)}),""),n.abrupt("return",i);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){var e=n.id,t=n.poster_path,i=n.title,r=n.name,o=n.genre_ids,c=n.release_date,s=n.first_air_date,a=n.vote_average,l=(0,f.getNameOfGenresById)(o),u=l.slice(0,2).join(", "),d=c||s;return window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(u=l.slice(0,1).join(", ")),u.length>18&&(u=l.slice(0,1).join(", ")),'<li class="catalog__card" data-id="'.concat(e,'">\n  <div class="catalog__img-wrapper">\n    <img src="https://image.tmdb.org/t/p/w500').concat(t||"Oops. There is no poster to this movie",'" alt="').concat(r||i,'" width="395" height="574" class="catalog__img" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">').concat(r||i,'</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">').concat(u,'</li>\n    <li class="info__descr">').concat(function(n){return n?n.slice(0,4):""}(d),'</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:').concat(a/2/.05,'%"></div>\n</div>\n</div>\n  </div>\n</li>')}window.addEventListener("resize",g),g();m=o("b7ONl"),f=o("lwvvG"),f=o("lwvvG");var b="addedMovies";function w(){return JSON.parse(localStorage.getItem(b))}function x(n){localStorage.setItem(b,JSON.stringify(n))}var L=document.querySelector(".upcoming-content");m.getUpcoming().then((function(n){var e=n.results,t=new Date,i=e.filter((function(n){return t<Date.parse(n.release_date)}));if(0!==i.length){var r,o=Math.floor(Math.random()*i.length),c=function(n){var e=n.backdrop_path,t=n.genre_ids,i=n.title,r=n.overview,o=n.vote_average,c=n.vote_count,s=n.release_date,a=n.popularity,l=o.toFixed(1),u=a.toFixed(1),d=(0,f.getNameOfGenresById)(t).slice(0,3).join(" ");return'\n      <img\n        class="upcoming-content__img"\n        src="https://image.tmdb.org/t/p/w500'.concat(e,'"\n        alt="').concat(i,'"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">').concat(i,'</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">').concat(s,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ').concat(l,'</span> / <span class="vote">').concat(c,'</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">').concat(u,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">').concat(d,'</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">').concat(r,'\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n')}(i[o]);r=c,L.innerHTML=r;var s=document.getElementById("add"),a=document.getElementById("remove"),l=w();(l=l||[]).includes(i[o].id)&&(s.classList.add("hidden"),a.classList.remove("hidden")),s.addEventListener("click",(function(){var n=w();if((n=n||[]).includes(i[o].id))return s.classList.add("hidden"),void a.classList.remove("hidden");n.push(i[o].id),x(n),s.classList.add("hidden"),a.classList.remove("hidden")})),a.addEventListener("click",(function(){var n=w();if((n=n||[]).includes(i[o].id)){var e=n.findIndex((function(n){return n===i[o].id}));n.splice(e,1),x(n),s.classList.remove("hidden"),a.classList.add("hidden")}}))}else L.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>'})).catch((function(n){return console.log(n)})),(0,f.setGenresInStorage)()}();
//# sourceMappingURL=index.555d9ca7.js.map
