!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},c=e.parcelRequired7c6;null==c&&((c=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var c={id:n,exports:{}};return t[n]=c,e.call(c.exports,c,c.exports),c.exports}var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(n,e){i[n]=e},e.parcelRequired7c6=c),c("iE7OH").register(JSON.parse('{"9p9yL":"index.237670e9.js","5SXwj":"sprite-stars.020edb1a.svg","k7SKl":"my-library.def655cf.js","45zUA":"index.e9901438.js"}')),c("cs7FV"),c("78qpV");var s=document.querySelector(".notification-trailer-fail-btn-close"),o=(document.querySelector(".notification-trailer-fail"),document.querySelector(".notification-trailer-fail-overlay"));function a(){r()}function r(){o.style.visibility="hidden"}function l(n){"Escape"===n.code&&(document.removeEventListener("keydown",l),r())}document.querySelector('button[data-btn="trailer-fail"]').addEventListener("click",(function(){o.style.visibility="visible",o.style.transition="visibility 250ms linear 250ms",s.addEventListener("click",a),o.addEventListener("click",(function(n){n.currentTarget===n.target&&r()})),document.addEventListener("keydown",l)}));var d=c("bpxeT"),u=c("2TvXO");c("aNJCr").getBundleURL("9p9yL"),c("iE7OH").resolve("5SXwj");var p=c("lwvvG"),_=c("b7ONl"),v=document.querySelector(".weekly");function m(){window.innerWidth<768?_.getWeekTrending(1).then((function(n){g([n.results[0]]).then((function(n){return v.innerHTML=n})).catch((function(n){return console.log(n)}))})):_.getWeekTrending(1).then((function(n){g(n.results.slice(0,3)).then((function(n){return v.innerHTML=n})).catch((function(n){return console.log(n)}))}))}function g(n){return f.apply(this,arguments)}function f(){return(f=n(d)(n(u).mark((function e(t){var i;return n(u).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.reduce((function(n,e){return n+h(e)}),""),n.abrupt("return",i);case 2:case"end":return n.stop()}}),e)})))).apply(this,arguments)}function h(n){var e=n.id,t=n.poster_path,i=n.title,c=n.name,s=n.genre_ids,o=n.release_date,a=n.first_air_date,r=n.vote_average,l=(0,p.getNameOfGenresById)(s),d=l.slice(0,2).join(", "),u=o||a;return window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(d=l.slice(0,1).join(", ")),d.length>18&&(d=l.slice(0,1).join(", ")),'<li class="catalog__card" data-id="'.concat(e,'">\n  <div class="catalog__img-wrapper">\n    <img src="https://image.tmdb.org/t/p/w500').concat(t||"Oops. There is no poster to this movie",'" alt="').concat(c||i,'" width="395" height="574" class="catalog__img" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">').concat(c||i,'</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">').concat(d,'</li>\n    <li class="info__descr">').concat(function(n){return n?n.slice(0,4):""}(u),'</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:').concat(r/2/.05,'%"></div>\n</div>\n</div>\n  </div>\n</li>')}window.addEventListener("resize",m),m();_=c("b7ONl"),p=c("lwvvG"),p=c("lwvvG");var y=c("4LMMA"),b=(y=c("4LMMA"),document.querySelector(".upcoming-content"));_.getUpcoming().then((function(n){var e=n.results,t=new Date,i=e.filter((function(n){return t<Date.parse(n.release_date)}));if(0!==i.length){var c,s=Math.floor(Math.random()*i.length),o=function(n){var e=n.backdrop_path,t=n.genre_ids,i=n.title,c=n.overview,s=n.vote_average,o=n.vote_count,a=n.release_date,r=n.popularity,l=s.toFixed(1),d=r.toFixed(1),u=(0,p.getNameOfGenresById)(t).slice(0,3).join(" ");return'\n      <img\n        class="upcoming-content__img"\n        src="https://image.tmdb.org/t/p/w500'.concat(e,'"\n        alt="').concat(i,'"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">').concat(i,'</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">').concat(a,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ').concat(l,'</span> / <span class="vote">').concat(o,'</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">').concat(d,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">').concat(u,'</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">').concat(c,'\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n')}(i[s]);c=o,b.innerHTML=c;var a=document.getElementById("add"),r=document.getElementById("remove"),l=(0,y.getAddedMovies)();(l=l||[]).includes(i[s].id)&&(a.classList.add("hidden"),r.classList.remove("hidden")),a.addEventListener("click",(function(){var n=(0,y.getAddedMovies)();if((n=n||[]).includes(i[s].id))return a.classList.add("hidden"),void r.classList.remove("hidden");n.push(i[s].id),(0,y.setAddedMovies)(n),a.classList.add("hidden"),r.classList.remove("hidden")})),r.addEventListener("click",(function(){var n=(0,y.getAddedMovies)();if((n=n||[]).includes(i[s].id)){var e=n.findIndex((function(n){return n===i[s].id}));n.splice(e,1),(0,y.setAddedMovies)(n),a.classList.remove("hidden"),r.classList.add("hidden")}}))}else b.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>'})).catch((function(n){return console.log(n)})),(0,p.setGenresInStorage)(),c("3lYxi"),c("6IdhT")}();
//# sourceMappingURL=index.237670e9.js.map
