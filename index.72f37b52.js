var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var s={id:e,exports:{}};return n[e]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i),i("kyEFX").register(JSON.parse('{"7bk21":"index.72f37b52.js","fVJut":"sprite-stars.020edb1a.svg","83IUQ":"my-library.ac3e2bad.js","f7PRz":"index.87530d32.js"}')),i("8FnLx"),i("1iCTa"),i("eEHR3");new URL(i("kyEFX").resolve("fVJut"),import.meta.url).toString();var s=i("2rpgd"),o=i("7rYDH");const r=document.querySelector(".weekly");function c(){window.innerWidth<768?o.getWeekTrending(1).then((e=>{l([e.results[0]]).then((e=>r.innerHTML=e)).catch((e=>console.log(e)))})):o.getWeekTrending(1).then((e=>{l(e.results.slice(0,3)).then((e=>r.innerHTML=e)).catch((e=>console.log(e)))}))}async function l(e){return e.reduce(((e,n)=>e+function({id:e,poster_path:n,title:t,name:i,genre_ids:o,release_date:r,first_air_date:c,vote_average:l}){const a=(0,s.getNameOfGenresById)(o);let d=a.slice(0,2).join(", ");const u=r||c;window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(d=a.slice(0,1).join(", "));d.length>18&&(d=a.slice(0,1).join(", "));return`<li class="catalog__card" data-id="${e}">\n  <div class="catalog__img-wrapper">\n    <img data-src="https://image.tmdb.org/t/p/w500${n||"Oops. There is no poster to this movie"}" alt="${i||t}" width="395" height="574" class="catalog__img lazyload" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">${i||t}</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">${d}</li>\n    <li class="info__descr">${function(e){return e?e.slice(0,4):""}(u)}</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:${l/2/.05}%"></div>\n</div>\n</div>\n  </div>\n</li>`}(n)),"")}window.addEventListener("resize",c),c();var a,d,u={};function p(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function g(e){if(a===setTimeout)return setTimeout(e,0);if((a===p||!a)&&setTimeout)return a=setTimeout,setTimeout(e,0);try{return a(e,0)}catch(n){try{return a.call(null,e,0)}catch(n){return a.call(this,e,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:p}catch(e){a=p}try{d="function"==typeof clearTimeout?clearTimeout:m}catch(e){d=m}}();var _,f=[],h=!1,v=-1;function y(){h&&_&&(h=!1,_.length?f=_.concat(f):v=-1,f.length&&w())}function w(){if(!h){var e=g(y);h=!0;for(var n=f.length;n;){for(_=f,f=[];++v<n;)_&&_[v].run();v=-1,n=f.length}_=null,h=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===m||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{d(e)}catch(n){try{return d.call(null,e)}catch(n){return d.call(this,e)}}}(e)}}function b(e,n){this.fun=e,this.array=n}function T(){}u.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];f.push(new b(e,n)),1!==f.length||h||g(w)},b.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=T,u.addListener=T,u.once=T,u.off=T,u.removeListener=T,u.removeAllListeners=T,u.emit=T,u.prependListener=T,u.prependOnceListener=T,u.listeners=function(e){return[]},u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0};o=i("7rYDH"),s=i("2rpgd"),s=i("2rpgd");var L=i("b5rV1");L=i("b5rV1");const x=document.querySelector(".upcoming-content");o.getUpcoming().then((({results:e})=>{const n=new Date,t=e.filter((e=>n<Date.parse(e.release_date)));if(0===t.length)return void(x.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>');const i=Math.floor(Math.random()*t.length),o=function({backdrop_path:e,genre_ids:n,title:t,overview:i,vote_average:o,vote_count:r,release_date:c,popularity:l}){const a=o.toFixed(1),d=l.toFixed(1),u=(0,s.getNameOfGenresById)(n).slice(0,3).join(" ");return`\n      <img\n        class="upcoming-content__img lazyload"\n        data-src="https://image.tmdb.org/t/p/original${e}"\n        alt="${t}"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">${t}</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">${c}</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ${a}</span> / <span class="vote">${r}</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">${d}</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">${u}</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">${i}\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n`}(t[i]);var r;r=o,x.innerHTML=r;const c=document.getElementById("add"),l=document.getElementById("remove");let a=(0,L.getAddedMovies)();a=a||[],a.includes(t[i].id.toString())&&(c.classList.add("hidden"),l.classList.remove("hidden")),c.addEventListener("click",(function(){let e=(0,L.getAddedMovies)();if(e=e||[],e.includes(t[i].id))return c.classList.add("hidden"),void l.classList.remove("hidden");e.push(t[i].id.toString()),(0,L.setAddedMovies)(e),c.classList.add("hidden"),l.classList.remove("hidden")})),l.addEventListener("click",(function(){let e=(0,L.getAddedMovies)();if(e=e||[],e.includes(t[i].id.toString())){let n=e.findIndex((e=>e===t[i].id));e.splice(n,1),(0,L.setAddedMovies)(e),c.classList.remove("hidden"),l.classList.add("hidden")}}))})).catch((e=>console.log(e))),i("2xINi"),i("9tydV");
//# sourceMappingURL=index.72f37b52.js.map
