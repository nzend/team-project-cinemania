!function(){function n(n,e,t,i){Object.defineProperty(n,e,{get:t,set:i,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},r=t.parcelRequired7c6;null==r&&((r=function(n){if(n in i)return i[n].exports;if(n in o){var e=o[n];delete o[n];var t={id:n,exports:{}};return i[n]=t,e.call(t.exports,t,t.exports),t.exports}var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(n,e){o[n]=e},t.parcelRequired7c6=r),r.register("iE7OH",(function(e,t){var i,o;n(e.exports,"register",(function(){return i}),(function(n){return i=n})),n(e.exports,"resolve",(function(){return o}),(function(n){return o=n}));var r={};i=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)r[e[t]]=n[e[t]]},o=function(n){var e=r[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),r.register("aNJCr",(function(e,t){var i;n(e.exports,"getBundleURL",(function(){return i}),(function(n){return i=n}));var o={};function r(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(n){var e=o[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return r(n[2])}return"/"}(),o[n]=e),e}})),r("iE7OH").register(JSON.parse('{"9p9yL":"index.0adcd430.js","5SXwj":"sprite-stars.020edb1a.svg","45zUA":"index.572a242e.js"}'));var c=document.getElementById("menu"),s=document.querySelector("nav"),a=document.getElementById("overlay"),l=document.querySelector("body");c.addEventListener("click",(function(){s.style.left="0",a.style.display="block",l.style.overflow="hidden"})),a.addEventListener("click",(function(){s.style.left="-64%",a.style.display="none",l.style.overflow="auto"}));var u=document.querySelector(".switcher"),d="true"===localStorage.getItem("isLight");document.body.classList.toggle("light",d),u.onclick=function(){d=!d,document.body.classList.toggle("light",d),localStorage.setItem("isLight",d)};var p=window.location.href;document.querySelectorAll(".mobile-menu__link, .header__nav-link").forEach((function(n){n.href===p&&n.classList.toggle("current__nav-link")}));var g=r("bpxeT"),f=r("2TvXO");r("aNJCr").getBundleURL("9p9yL"),r("iE7OH").resolve("5SXwj");var m=r("lwvvG"),v=r("b7ONl"),_=document.querySelector(".weekly");function h(){window.innerWidth<768?v.getWeekTrending(1).then((function(n){y([n.results[0]]).then((function(n){return _.innerHTML=n})).catch((function(n){return console.log(n)}))})):v.getWeekTrending(1).then((function(n){y(n.results.slice(0,3)).then((function(n){return _.innerHTML=n})).catch((function(n){return console.log(n)}))}))}function y(n){return w.apply(this,arguments)}function w(){return(w=e(g)(e(f).mark((function n(t){var i;return e(f).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.reduce((function(n,e){return n+b(e)}),""),n.abrupt("return",i);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(n){var e=n.id,t=n.poster_path,i=n.title,o=n.name,r=n.genre_ids,c=n.release_date,s=n.first_air_date,a=n.vote_average,l=(0,m.getNameOfGenresById)(r),u=l.slice(0,2).join(", "),d=c||s;return window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(u=l.slice(0,1).join(", ")),u.length>18&&(u=l.slice(0,1).join(", ")),'<li class="catalog__card" data-id="'.concat(e,'">\n  <div class="catalog__img-wrapper">\n    <img src="https://image.tmdb.org/t/p/w500').concat(t||"Oops. There is no poster to this movie",'" alt="').concat(o||i,'" width="395" height="574" class="catalog__img" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">').concat(o||i,'</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">').concat(u,'</li>\n    <li class="info__descr">').concat(function(n){return n?n.slice(0,4):""}(d),'</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:').concat(a/2/.05,'%"></div>\n</div>\n</div>\n  </div>\n</li>')}window.addEventListener("resize",h),h();v=r("b7ONl"),m=r("lwvvG"),m=r("lwvvG");var L="addedMovies";function x(){return JSON.parse(localStorage.getItem(L))}function E(n){localStorage.setItem(L,JSON.stringify(n))}var S=document.querySelector(".upcoming-content");v.getUpcoming().then((function(n){var e=n.results,t=new Date,i=e.filter((function(n){return t<Date.parse(n.release_date)}));if(0!==i.length){var o,r=Math.floor(Math.random()*i.length),c=function(n){var e=n.backdrop_path,t=n.genre_ids,i=n.title,o=n.overview,r=n.vote_average,c=n.vote_count,s=n.release_date,a=n.popularity,l=r.toFixed(1),u=a.toFixed(1),d=(0,m.getNameOfGenresById)(t).slice(0,3).join(" ");return'\n      <img\n        class="upcoming-content__img"\n        src="https://image.tmdb.org/t/p/w500'.concat(e,'"\n        alt="').concat(i,'"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">').concat(i,'</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">').concat(s,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ').concat(l,'</span> / <span class="vote">').concat(c,'</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">').concat(u,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">').concat(d,'</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">').concat(o,'\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n')}(i[r]);o=c,S.innerHTML=o;var s=document.getElementById("add"),a=document.getElementById("remove"),l=x();(l=l||[]).includes(i[r].id)&&(s.classList.add("hidden"),a.classList.remove("hidden")),s.addEventListener("click",(function(){var n=x();if((n=n||[]).includes(i[r].id))return s.classList.add("hidden"),void a.classList.remove("hidden");n.push(i[r].id),E(n),s.classList.add("hidden"),a.classList.remove("hidden")})),a.addEventListener("click",(function(){var n=x();if((n=n||[]).includes(i[r].id)){var e=n.findIndex((function(n){return n===i[r].id}));n.splice(e,1),E(n),s.classList.remove("hidden"),a.classList.add("hidden")}}))}else S.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>'})).catch((function(n){return console.log(n)})),(0,m.setGenresInStorage)()}();
//# sourceMappingURL=index.0adcd430.js.map
