!function(){function n(n,e,t,i){Object.defineProperty(n,e,{get:t,set:i,enumerable:!0,configurable:!0})}function e(n){return n&&n.__esModule?n.default:n}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},c=t.parcelRequired7c6;null==c&&((c=function(n){if(n in i)return i[n].exports;if(n in r){var e=r[n];delete r[n];var t={id:n,exports:{}};return i[n]=t,e.call(t.exports,t,t.exports),t.exports}var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(n,e){r[n]=e},t.parcelRequired7c6=c),c.register("iE7OH",(function(e,t){var i,r;n(e.exports,"register",(function(){return i}),(function(n){return i=n})),n(e.exports,"resolve",(function(){return r}),(function(n){return r=n}));var c={};i=function(n){for(var e=Object.keys(n),t=0;t<e.length;t++)c[e[t]]=n[e[t]]},r=function(n){var e=c[n];if(null==e)throw new Error("Could not resolve bundle with id "+n);return e}})),c.register("aNJCr",(function(e,t){var i;n(e.exports,"getBundleURL",(function(){return i}),(function(n){return i=n}));var r={};function c(n){return(""+n).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(n){var e=r[n];return e||(e=function(){try{throw new Error}catch(e){var n=(""+e.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(n)return c(n[2])}return"/"}(),r[n]=e),e}})),c("iE7OH").register(JSON.parse('{"9p9yL":"index.3b84d373.js","5SXwj":"sprite-stars.020edb1a.svg","k7SKl":"my-library.5352efdf.js","45zUA":"index.c8eaf707.js"}')),c("cs7FV"),c("78qpV");var o=c("bpxeT"),s=c("2TvXO");c("aNJCr").getBundleURL("9p9yL"),c("iE7OH").resolve("5SXwj");var a=c("lwvvG"),l=c("b7ONl"),u=document.querySelector(".weekly");function d(){window.innerWidth<768?l.getWeekTrending(1).then((function(n){p([n.results[0]]).then((function(n){return u.innerHTML=n})).catch((function(n){return console.log(n)}))})):l.getWeekTrending(1).then((function(n){p(n.results.slice(0,3)).then((function(n){return u.innerHTML=n})).catch((function(n){return console.log(n)}))}))}function p(n){return f.apply(this,arguments)}function f(){return(f=e(o)(e(s).mark((function n(t){var i;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.reduce((function(n,e){return n+g(e)}),""),n.abrupt("return",i);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){var e=n.id,t=n.poster_path,i=n.title,r=n.name,c=n.genre_ids,o=n.release_date,s=n.first_air_date,l=n.vote_average,u=(0,a.getNameOfGenresById)(c),d=u.slice(0,2).join(", "),p=o||s;return window.matchMedia("(min-width: 768px) and (max-width: 1199px)").matches&&(d=u.slice(0,1).join(", ")),d.length>18&&(d=u.slice(0,1).join(", ")),'<li class="catalog__card" data-id="'.concat(e,'">\n  <div class="catalog__img-wrapper">\n    <img src="https://image.tmdb.org/t/p/w500').concat(t||"Oops. There is no poster to this movie",'" alt="').concat(r||i,'" width="395" height="574" class="catalog__img" />\n  </div>\n  <div class="catalog__info info">\n    <p class="info__title">').concat(r||i,'</p>\n<div class="info__wrap">\n<ul class="info__list">\n    <li class="info__descr">').concat(d,'</li>\n    <li class="info__descr">').concat(function(n){return n?n.slice(0,4):""}(p),'</li>\n    </ul>\n<div class="catalog__stars-wrap">\n<div class="catalog__rating-active" style="width:').concat(l/2/.05,'%"></div>\n</div>\n</div>\n  </div>\n</li>')}window.addEventListener("resize",d),d();l=c("b7ONl"),a=c("lwvvG"),a=c("lwvvG");var _="addedMovies";function m(){return JSON.parse(localStorage.getItem(_))}function v(n){localStorage.setItem(_,JSON.stringify(n))}var h=document.querySelector(".upcoming-content");l.getUpcoming().then((function(n){var e=n.results,t=new Date,i=e.filter((function(n){return t<Date.parse(n.release_date)}));if(0!==i.length){var r,c=Math.floor(Math.random()*i.length),o=function(n){var e=n.backdrop_path,t=n.genre_ids,i=n.title,r=n.overview,c=n.vote_average,o=n.vote_count,s=n.release_date,l=n.popularity,u=c.toFixed(1),d=l.toFixed(1),p=(0,a.getNameOfGenresById)(t).slice(0,3).join(" ");return'\n      <img\n        class="upcoming-content__img"\n        src="https://image.tmdb.org/t/p/w500'.concat(e,'"\n        alt="').concat(i,'"\n       \n      \n      />\n\n      <div class="upcoming-content__desktop">\n        <h3 class="upcoming-content__name">').concat(i,'</h3>\n\n        <div class="upcoming-thumb">\n          <ul class="upcoming-list left">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Release date</p>\n              <p class="upcoming-list__date">').concat(s,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Vote / Votes</p>\n              <p class="upcoming-list__vote">\n                <span class="vote"> ').concat(u,'</span> / <span class="vote">').concat(o,'</span>\n              </p>\n            </li>\n          </ul>\n\n          <ul class="upcoming-list rigth">\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Popularity</p>\n              <p class="upcoming-list__pop">').concat(d,'</p>\n            </li>\n            <li class="upcoming-list__item">\n              <p class="upcoming-list__text">Genre</p>\n              <p class="upcoming-list__genre">').concat(p,'</p>\n            </li>\n          </ul>\n        </div>\n\n        <h3 class="upcoming-content__title">About</h3>\n        <p class="upcoming-content__text">').concat(r,'\n        </p>\n\n  <button type="button" class="upcoming-content__btn" id="add">\n  Remind me\n</button>   \n <button type="button" class="upcoming-content__btn-remove hidden" id="remove">\n  Remove from my library\n</button>    \n')}(i[c]);r=o,h.innerHTML=r;var s=document.getElementById("add"),l=document.getElementById("remove"),u=m();(u=u||[]).includes(i[c].id)&&(s.classList.add("hidden"),l.classList.remove("hidden")),s.addEventListener("click",(function(){var n=m();if((n=n||[]).includes(i[c].id))return s.classList.add("hidden"),void l.classList.remove("hidden");n.push(i[c].id),v(n),s.classList.add("hidden"),l.classList.remove("hidden")})),l.addEventListener("click",(function(){var n=m();if((n=n||[]).includes(i[c].id)){var e=n.findIndex((function(n){return n===i[c].id}));n.splice(e,1),v(n),s.classList.remove("hidden"),l.classList.add("hidden")}}))}else h.innerHTML='<div class="upcoming-error-container">\n        <p class="upcoming-error-container__text">\n          OOPS...<br />\n          We are very sorry!<br />\n          But we couldn\'t find any upcoming movies this month.\n        </p>\n      </div>'})).catch((function(n){return console.log(n)})),(0,a.setGenresInStorage)()}();
//# sourceMappingURL=index.3b84d373.js.map
